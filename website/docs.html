<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - TestGen</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="images/logo.png">
</head>

<body class="docs-page">
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="images/logo.png" alt="TestGen">
                <span class="nav-logo-text">TestGen</span>
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="docs.html" class="active">Docs</a>
                <a href="https://github.com/princepal9120/testgen-cli" target="_blank">GitHub</a>
            </div>
        </div>
    </nav>

    <div class="container docs-container">
        <!-- Sidebar -->
        <aside class="docs-sidebar">
            <div class="sidebar-group">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="#introduction" class="active">Introduction</a></li>
                    <li><a href="#installation">Installation</a></li>
                    <li><a href="#configuration">Configuration</a></li>
                </ul>
            </div>
            <div class="sidebar-group">
                <h3>Usage</h3>
                <ul>
                    <li><a href="#tui-mode">TUI Mode</a></li>
                    <li><a href="#generating-tests">Generating Tests</a></li>
                    <li><a href="#supported-languages">Supported Languages</a></li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="docs-content">
            <section id="introduction">
                <h1>Documentation</h1>
                <p>TestGen is an AI-powered CLI tool that automatically generates production-ready unit tests for your
                    code. It supports JavaScript, TypeScript, Python, Go, and Rust.</p>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <p>Install testgen on your local machine. It comes as a single binary with zero dependencies.</p>

                <!-- Tabs -->
                <div class="docs-tabs">
                    <button class="docs-tab active" onclick="switchTab('unix')">macOS / Linux</button>
                    <button class="docs-tab" onclick="switchTab('windows')">Windows</button>
                    <button class="docs-tab" onclick="switchTab('source')">From Source</button>
                </div>

                <div id="unix" class="tab-content active">
                    <div class="code-block-minimal">
                        <pre><code>curl -fsSL https://raw.githubusercontent.com/princepal9120/testgen-cli/main/install.sh | bash</code></pre>
                        <button class="copy-icon" onclick="copyCode(this)" title="Copy to clipboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div id="windows" class="tab-content">
                    <div class="code-block-minimal">
                        <pre><code>irm https://raw.githubusercontent.com/princepal9120/testgen-cli/main/install.ps1 | iex</code></pre>
                        <button class="copy-icon" onclick="copyCode(this)" title="Copy to clipboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div id="source" class="tab-content">
                    <div class="code-block-minimal">
                        <pre><code>go install github.com/princepal9120/testgen-cli@latest</code></pre>
                        <button class="copy-icon" onclick="copyCode(this)" title="Copy to clipboard">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>

            <section id="configuration">
                <h2>Configuration</h2>
                <p>You need an API key from Anthropic (recommended) or OpenAI to use TestGen.</p>

                <div class="code-block">
                    <pre><code># Add to your ~/.zshrc or ~/.bashrc
export ANTHROPIC_API_KEY="sk-ant-..."

# Or for OpenAI
export OPENAI_API_KEY="sk-..."</code></pre>
                </div>
            </section>

            <section id="tui-mode">
                <h2>TUI Mode ✨</h2>
                <p>TestGen includes a full interactive Terminal User Interface (TUI) for a visual, keyboard-driven
                    experience.</p>

                <h3>Launch TUI</h3>
                <div class="code-block">
                    <pre><code>testgen tui</code></pre>
                </div>

                <h3>Features</h3>
                <ul>
                    <li><strong>Home Screen:</strong> Choose between Generate Tests or Analyze Codebase</li>
                    <li><strong>Config Forms:</strong> Interactive forms for all options (path, types, parallel, etc.)
                    </li>
                    <li><strong>Command Preview:</strong> See the exact CLI command before running</li>
                    <li><strong>Live Progress:</strong> Spinner and progress updates during generation</li>
                    <li><strong>Results Summary:</strong> Beautiful summary with stats and generated file paths</li>
                </ul>

                <h3>Keyboard Controls</h3>
                <div class="code-block">
                    <pre><code>Tab / Shift+Tab    Navigate between fields
Space              Toggle checkboxes
Enter              Confirm / Select
Esc                Go back
q / Ctrl+C         Quit
Ctrl+X             Cancel running operation</code></pre>
                </div>

                <h3>Screen Flow</h3>
                <div class="code-block">
                    <pre><code>Home → Config → Preview → Running → Results
  ↑                                    │
  └────────────────────────────────────┘</code></pre>
                </div>
            </section>

            <section id="generating-tests">
                <h2>Generating Tests</h2>
                <p>TestGen provides several commands for generating tests. Here are the most common use cases:</p>

                <h3>Single File</h3>
                <p>Generate tests for a single source file:</p>
                <div class="code-block">
                    <pre><code>testgen generate --file=./src/utils.py --type=unit</code></pre>
                </div>

                <h3>Entire Directory</h3>
                <p>Process all files in a directory recursively:</p>
                <div class="code-block">
                    <pre><code>testgen generate --path=./src --recursive --type=unit,edge-cases</code></pre>
                </div>

                <h3>Dry Run (Preview)</h3>
                <p>Preview what tests would be generated without writing files:</p>
                <div class="code-block">
                    <pre><code>testgen generate --path=./src --dry-run --output-format=json</code></pre>
                </div>

                <h3>With Validation</h3>
                <p>Generate tests and validate they compile/run:</p>
                <div class="code-block">
                    <pre><code>testgen generate --path=./src --validate --parallel=4</code></pre>
                </div>

                <h3>Cost Estimation</h3>
                <p>Estimate the API cost before generating:</p>
                <div class="code-block">
                    <pre><code>testgen analyze --path=./src --cost-estimate

# Output:
# === Codebase Analysis ===
# Total files:     24
# Total lines:     3,456
# Est. functions:  89
#
# Estimated tokens: 45,000
# Estimated cost:   $0.38 USD</code></pre>
                </div>
            </section>

            <section id="supported-languages">
                <h2>Supported Languages</h2>
                <p>TestGen supports multiple programming languages and their popular testing frameworks:</p>

                <h3>JavaScript / TypeScript</h3>
                <ul>
                    <li><strong>Frameworks:</strong> Jest, Vitest, Mocha</li>
                    <li><strong>Extensions:</strong> .js, .jsx, .ts, .tsx</li>
                </ul>

                <h3>Python</h3>
                <ul>
                    <li><strong>Frameworks:</strong> pytest, unittest</li>
                    <li><strong>Extensions:</strong> .py</li>
                </ul>

                <h3>Go</h3>
                <ul>
                    <li><strong>Frameworks:</strong> testing (standard library), testify</li>
                    <li><strong>Extensions:</strong> .go</li>
                </ul>

                <h3>Rust</h3>
                <ul>
                    <li><strong>Frameworks:</strong> cargo test (built-in)</li>
                    <li><strong>Extensions:</strong> .rs</li>
                </ul>
            </section>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-logo">
                <img src="images/logo.png" alt="TestGen Logo">
            </div>
            <p>TestGen CLI - Documentation</p>
        </div>
    </footer>

    <script>
        function switchTab(os) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.docs-tab').forEach(el => el.classList.remove('active'));

            // Show selected
            document.getElementById(os).style.display = 'block';
            event.target.classList.add('active');
        }

        function copyCode(btn) {
            const codeBlock = btn.parentElement.querySelector('code');
            const text = codeBlock.innerText;

            navigator.clipboard.writeText(text).then(() => {
                btn.classList.add('copied');

                // Change icon to checkmark temporarily
                const originalSvg = btn.innerHTML;
                btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>`;

                setTimeout(() => {
                    btn.innerHTML = originalSvg;
                    btn.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }
    </script>
</body>

</html>